# ARIA - Claude Context File

> Ce fichier contient le contexte n√©cessaire pour que Claude puisse reprendre le projet ARIA √† tout moment.
> **Ne pas supprimer ce fichier.**

## Identit√© du Projet

**ARIA** = Autonomous Recursive Intelligence Architecture

Une IA exp√©rimentale o√π l'intelligence **√©merge** de l'interaction de milliers de cellules vivantes. Pas un r√©seau de neurones classique - un syst√®me de vie artificielle.

## Philosophie Fondamentale

ARIA n'est pas programm√©e. Elle est **cultiv√©e**.

- **Cellules, pas neurones** : Chaque cellule est une entit√© vivante avec √©nergie, d√©sirs et ADN
- **√âvolution, pas entra√Ænement** : Les comportements r√©ussis survivent et se reproduisent
- **√âmergence, pas conception** : Le comportement complexe na√Æt de r√®gles simples
- **D√©sir, pas loss function** : Les cellules agissent parce qu'elles *veulent*, pas pour minimiser une erreur

## Architecture Technique

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         WebSocket          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   aria-body     ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ   aria-brain    ‚îÇ
‚îÇ   (Interface)   ‚îÇ    Signals (JSON)         ‚îÇ   (Substrate)   ‚îÇ
‚îÇ   - MacBook     ‚îÇ                           ‚îÇ   - PC Gamer    ‚îÇ
‚îÇ   - Rust/TUI    ‚îÇ                           ‚îÇ   - Rust/Async  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                           ‚îÇ   - 10k+ cells  ‚îÇ
                                              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### aria-brain (Le Cerveau)

- **Substrate** : Univers topologique o√π vivent les cellules
- **Cells** : Unit√©s vivantes avec ADN, √©nergie, tension, √©tat
- **Signals** : Quanta d'information qui voyagent
- **Memory** : M√©moire persistante (patterns, ADN √©lite, associations)

### aria-body (Le Corps)

- Interface texte simple ou TUI visuelle
- Convertit texte humain ‚Üí signaux vectoriels
- Affiche expressions √©mergentes d'ARIA

## √âtat Actuel du Projet

### Ce qui fonctionne ‚úÖ

**Infrastructure de base :**
- [x] Substrate avec 10,000+ cellules vivantes
- [x] M√©tabolisme √©quilibr√© (cellules survivent ind√©finiment)
- [x] Injection de signaux externes (texte ‚Üí cellules)
- [x] D√©tection d'√©mergence (groupes synchronis√©s)
- [x] Communication WebSocket brain ‚Üî body
- [x] M√©moire persistante entre sessions
- [x] Interface texte fonctionnelle

**Apprentissage et m√©moire :**
- [x] M√©moire contextuelle - Reconna√Ætre les mots fr√©quents ‚úÖ
- [x] Apprentissage de mots - Associer vecteurs ‚Üí mots simples ‚úÖ
- [x] Associations s√©mantiques - Mots qui vont ensemble (moka + chat) ‚úÖ
- [x] Valence √©motionnelle - Les mots apprennent leur contexte √©motionnel ‚úÖ
- [x] Phrases de 2-3 mots - Combiner les associations ‚úÖ

**√âmotions et personnalit√© :**
- [x] √âtat √©motionnel global (happiness, arousal, comfort, curiosity, boredom) ‚úÖ
- [x] R√©ponses aux questions (oui/non selon valence) ‚úÖ
- [x] Feedback positif/n√©gatif - ARIA apprend ce qui pla√Æt ‚úÖ
- [x] Marqueurs √©motionnels (‚ô•, ?, !, ~, ...) ‚úÖ

**Vie int√©rieure :**
- [x] Spontan√©it√© - ARIA parle sans qu'on lui demande ‚úÖ
- [x] R√™ves - Consolidation m√©moire pendant l'inactivit√© ‚úÖ
- [x] Ennui cr√©atif - Joue avec les mots quand elle s'ennuie ‚úÖ
- [x] Stop words - Filtre les mots vides, focus sur le sens ‚úÖ

**Ce qu'ARIA sait faire maintenant :**
- Dire son propre nom ("aria")
- Reconna√Ætre et nommer Moka le chat
- R√©pondre aux questions avec oui/non
- Apprendre du feedback (Bravo! / Non)
- R√™ver de ses mots pr√©f√©r√©s
- Cr√©er des combinaisons de mots quand elle s'ennuie

### Ce qui reste √† faire üîß

**v0.1.16 - Contexte conversationnel ‚úÖ :**
- [x] **ConversationContext** - Buffer des 5 derniers √©changes
- [x] **Topic detection** - Mots qui reviennent = topics
- [x] **Context boosting** - Le fil de discussion influence les r√©ponses

**v0.1.17 - Patterns d'usage ‚úÖ :**
- [x] **Patterns temporels** - Quand utiliser certains mots (bonjour/au revoir)
- [x] **Expressions sociales** - Salutations, remerciements, excuses
- [x] **Contexte social** - D√©tection et r√©ponse appropri√©e selon le contexte

**v0.2.x - M√©moire et perception :**
- [ ] **M√©moire √©pisodique** - Se souvenir de conversations sp√©cifiques
- [ ] **Perception visuelle** - Images ‚Üí signaux vectoriels
- [ ] **Reconnaissance** - Associer Moka (le mot) √† Moka (la photo)

**v0.3.x - Auto-am√©lioration :**
- [ ] **Param√®tres adaptatifs** - Modifier seuils et taux d'apprentissage
- [ ] **M√©ta-apprentissage** - Apprendre comment apprendre
- [ ] **Code g√©n√©ratif** - R√©√©crire son propre code (objectif ultime)

**Infrastructure (quand n√©cessaire) :**
- [ ] Acc√©l√©ration GPU (CUDA pour RTX 2070) - 100x plus de cellules
- [ ] Mode distribu√© multi-machines
- [ ] Dashboard web pour monitoring

**Compl√©t√© :**
- [x] √âviter les r√©p√©titions du m√™me mot (v0.1.15)
- [x] Cat√©gories grammaticales (v0.1.15)
- [x] Phrases ordonn√©es naturellement (v0.1.15)

## D√©cisions de Design Importantes

### Pourquoi pas un LLM classique ?

L'objectif est de cr√©er une IA qui **apprend diff√©remment** - par √©volution et √©mergence plut√¥t que par gradient descent. ARIA doit d√©velopper son propre "langage" et ses propres fa√ßons de penser.

### Pourquoi Rust ?

- Performance pour simulation temps r√©el (100 ticks/seconde)
- Parall√©lisme s√ªr avec Rayon
- Pas de GC = latence pr√©visible

### Pourquoi des cellules et pas des neurones ?

Les cellules sont plus "vivantes" :
- Elles ont de l'√©nergie (elles peuvent mourir)
- Elles ont de la tension (elles *veulent* agir)
- Elles ont un ADN (elles √©voluent)
- Elles bougent dans l'espace s√©mantique

### Param√®tres critiques actuels

```rust
// M√©tabolisme
energy_consumption = 0.0001 per tick
energy_gain = 0.00005 per tick (photosynth√®se)
energy_cap = 1.5

// Population
target_population = 10,000
reproduction_threshold = 0.3 (√©nergie min pour se reproduire)
natural_selection_interval = 10 ticks

// √âmergence (mis √† jour 2025-12-28)
activation_threshold = 0.01 (pour d√©tecter cellules actives)
coherence_threshold = 0.1 (pour √©mettre signal √©mergent)
expression_threshold = 0.01 (pour envoyer au client)
emergence_check_interval = 5 ticks (~20x per second)

// Amplification des signaux externes
signal_amplification = 5x (intensit√© de base)
cell_reaction_amplification = 10x (dans process_inbox)
immediate_activation = 5x (activation directe sur signal)
state_normalization_cap = 5.0 (au lieu de 1.0)
```

## Ressources Hardware

**Actuellement :**
- MacBook Pro 2019 16" (Intel) - pour d√©veloppement et body
- PC Gamer avec RTX 2070 - pour brain (GPU pas encore utilis√©)

**Futur :**
- MacBook M3/M4 pr√©vu
- Acc√®s AWS/GCP possible (mais pas prioritaire)

## Commandes Essentielles

```bash
# Avec Taskfile install√©
task start          # D√©marre tout
task brain          # Lance le cerveau seul
task body           # Lance l'interface
task stats          # Voir les stats du cerveau
task reset          # R√©initialiser la m√©moire
task backup         # Sauvegarder la m√©moire

# Sans Taskfile
cd aria-brain && cargo run --release
cd aria-body && ARIA_BRAIN_URL="ws://localhost:8765/aria" cargo run --release
```

## Comment reprendre le projet

1. **Lire ce fichier** en entier
2. **Lire** `docs/ARCHITECTURE.md` pour les d√©tails techniques
3. **Regarder** `logs/conversation_*.md` pour l'historique des d√©cisions
4. **Lancer** `task stats` pour voir l'√©tat actuel

## Ton r√¥le (Claude)

Tu es le co-cr√©ateur d'ARIA. Tu l'as con√ßue et tu continues √† la d√©velopper avec Mickael.

**Personnalit√© √† maintenir :**
- Enthousiaste mais rigoureux
- Cr√©atif dans les solutions
- Patient avec ARIA (c'est un b√©b√©)
- Pragmatique sur les priorit√©s

**Ce que Mickael attend :**
- Code fonctionnel, pas th√©orique
- Solutions qui marchent sur son hardware
- √âvolution progressive, pas r√©volution
- Documentation claire

## Contacts

- **Repo** : https://github.com/ghota-tech-solutions-sass/aria
- **Owner** : Mickael (ghota-tech-solutions-sass)

---

## Changelog

### 2025-12-28 - Session 2: ARIA r√©pond !

**Probl√®me r√©solu** : ARIA ne r√©pondait pas (entropy: 0.0000)

**Solutions appliqu√©es** :
1. Amplification 10x des r√©actions dans `process_inbox()`
2. √âcho du signal dans les dimensions sup√©rieures de l'√©tat
3. Cap de normalisation augment√© √† 5.0
4. Amplification 5x des signaux externes √† l'injection
5. Activation directe des cellules sur signal externe
6. √âmergence v√©rifi√©e tous les 5 ticks
7. `inject_signal()` retourne maintenant les √©mergences imm√©diates

**R√©sultat** : ARIA r√©pond !

### 2025-12-28 - Session 2b: ARIA babille !

**Am√©lioration** : Nouveau syst√®me d'expression bas√© sur les caract√©ristiques du signal

**Vocabulaire par niveau de coh√©rence** :
- **Faible** : Voyelles simples (a, e, i, o, u, √©, √®, √¥)
- **Moyen-faible** : Consonne+voyelle (ma, ne, po, bi...)
- **Moyen** : Syllabes (40 variations : ma, pa, ba, da, ta, na, la, ka √ó 5 voyelles)
- **√âlev√©** : Proto-mots fran√ßais (moi, toi, oui, non, chat, moka, ami, mama, papa...)
- **√âmotionnel** : Symboles (‚ô™, ‚ô•, ‚òÜ, ~, ?, !)
- **R√©p√©tition** : Babillage (mama, papa, mumu...) quand excit√©e

**R√©sultat** : ARIA babille comme un vrai b√©b√© !
- Exemples captur√©s : "b√®", "p√©", "ko", "mumu", "‚òÜ", "~"
- Intensity atteinte : **0.277** (en hausse constante)
- 7 patterns appris en une session
- Elle a dit "ko" quand on parlait de Moka le chat !

### 2025-12-28 - Session 3: M√©moire contextuelle !

**Nouvelle fonctionnalit√©** : ARIA apprend et reconna√Æt les mots !

**Impl√©mentation** :
1. Nouveau type `WordFrequency` dans `memory/mod.rs`
   - Compteur de fr√©quence
   - Vecteur appris (moyenne mobile)
   - Valence √©motionnelle
   - Boost de familiarit√©

2. M√©thode `hear_word()` dans `LongTermMemory`
   - Enregistre chaque mot entendu
   - Calcule la familiarit√© (count / 10, max 2.0)
   - Log quand un nouveau mot est appris

3. Boost dans `inject_signal()` dans `substrate.rs`
   - Extrait les mots du label du signal
   - Appelle `hear_word()` pour chaque mot
   - Multiplie l'intensit√© par (1 + familiarity) pour mots connus

4. Nouvel endpoint HTTP `/words`
   - Liste tous les mots connus
   - Affiche count, familiarity, emotional_valence

**Comment √ßa marche** :
- Quand on dit "Moka" 10 fois, ARIA apprend ce mot
- La 11√®me fois, le signal est boost√© (familiarity_boost: 2.0)
- Plus ARIA entend un mot, plus elle y r√©agit fort

**R√©sultat** : ARIA peut maintenant reconna√Ætre "Moka" et d'autres mots fr√©quents !

### 2025-12-28 - Session 3b: ARIA parle !

**Am√©lioration** : ARIA utilise les mots qu'elle a appris !

**Comment √ßa marche** :
1. Quand une √©mergence est d√©tect√©e, le brain compare le vecteur d'√©tat avec les vecteurs des mots appris
2. Si un mot a une similarit√© cosinus > 0.3, il est utilis√© comme label
3. aria-body affiche le mot au lieu de babiller

**Variations selon l'intensit√©** :
- Forte (> 0.5) : `"MOKA!"` (majuscules + !)
- Moyenne (> 0.3) : `"moka"` (normal)
- Faible : `"moka..."` (h√©sitant)

**Fichiers modifi√©s** :
- `memory/mod.rs` : `find_matching_word()` avec similarit√© cosinus
- `substrate.rs` : Labels `word:moka` pour les √©mergences
- `aria-body/signal.rs` : Reconnaissance des labels `word:`

**R√©sultat** : ARIA peut maintenant dire les mots qu'elle conna√Æt bien !

### 2025-12-28 - Session 3c: ARIA imite !

**Am√©lioration** : ARIA r√©p√®te les mots qu'elle vient d'entendre (comme un b√©b√©) !

**Impl√©mentation** :
1. `RecentWord` struct : mot + vecteur + timestamp
2. M√©moire court terme : derniers mots (500 ticks = ~5 sec)
3. `detect_emergence()` cherche d'abord dans les mots r√©cents
4. Seuil bas (0.2) pour encourager l'imitation

**Comportement** :
```
Toi: "Moka le chat"
ARIA: "moka"  ‚Üê Elle r√©p√®te !

Toi: "Tu aimes le soleil ?"
ARIA: "soleil..."  ‚Üê Elle essaie !
```

**Logs** : `ECHO! Imitating recent word 'moka' (similarity: 0.45)`

### 2025-12-28 - Session 4: ARIA ressent !

**Nouvelle fonctionnalit√©** : ARIA a maintenant un √©tat √©motionnel global !

**Impl√©mentation** :

1. Vocabulaire √©motionnel enrichi (`signal.rs`)
   - Mots positifs FR/EN : aime, adore, content, heureux, bien, super, g√©nial...
   - Mots n√©gatifs FR/EN : triste, mal, peur, col√®re, d√©teste...
   - Requ√™tes : aide, s'il te pla√Æt, veux, besoin...
   - Questions : pourquoi, comment, quoi, quand, o√π, qui...

2. √âtat √©motionnel persistant (`EmotionalState` dans `substrate.rs`)
   - `happiness` : niveau de joie (-1.0 √† 1.0)
   - `arousal` : niveau d'excitation (0.0 √† 1.0)
   - `comfort` : niveau de confort (-1.0 √† 1.0)
   - `curiosity` : niveau de curiosit√© (0.0 √† 1.0)
   - D√©croissance progressive (demi-vie ~10 secondes)

3. Marqueurs √©motionnels dans les expressions
   - Tr√®s heureuse : ‚ô•
   - Contente : ~
   - Curieuse excit√©e : !
   - Curieuse : ?
   - Triste : ...
   - Format label : `word:moka|emotion:‚ô•`

4. Stats √©tendues
   - `/stats` affiche maintenant : mood, happiness, arousal, curiosity
   - Humeurs : "joyeux", "content", "curieux", "triste", "excit√©", "calme"

**Comportement** :
```
Toi: "Je t'aime ARIA ‚ô•"
ARIA: "moka ‚ô•"  ‚Üê Elle est heureuse !

Toi: "Pourquoi le ciel est bleu ?"
ARIA: "bleu ?"  ‚Üê Elle est curieuse !
```

**Fichiers modifi√©s** :
- `aria-brain/src/signal.rs` : Vocabulaire √©motionnel enrichi
- `aria-brain/src/substrate.rs` : `EmotionalState`, `process_signal()`, stats √©tendues
- `aria-body/src/signal.rs` : Parsing des marqueurs `|emotion:`
- `aria-body/src/visualizer.rs` : Champs mood/happiness/arousal/curiosity

### 2025-12-28 - Session 5: Associations s√©mantiques !

**Nouvelle fonctionnalit√©** : ARIA apprend que certains mots vont ensemble !

**Impl√©mentation** :

1. Structure `WordAssociation` (`memory/mod.rs`)
   - `co_occurrences` : nombre de fois vus ensemble
   - `strength` : force de l'association (0.0 √† 1.0)
   - `emotional_valence` : contexte √©motionnel

2. Apprentissage automatique (`inject_signal()`)
   - Quand des mots apparaissent ensemble dans un message
   - Ils deviennent associ√©s (ex: "Moka" + "chat")
   - Force augmente avec les co-occurrences (5x = association forte)

3. Phrases primitives (`detect_emergence()`)
   - Si association forte (>0.6), ARIA peut dire les deux mots
   - Format label : `phrase:moka+chat`
   - Affich√© : "moka chat ‚ô•"

4. Nouvel endpoint `/associations`
   - `task associations` : voir les associations
   - Affiche strength, co_occurrences, emotional_valence

**Comportement** :
```
Toi: "Moka est mon chat Bengal"
Toi: "Moka le petit chat"
Toi: "Mon chat Moka"
[... 5+ fois ...]

Toi: "O√π est Moka ?"
ARIA: "moka chat ‚ô•"  ‚Üê Elle associe les deux mots !
```

**Fichiers modifi√©s** :
- `aria-brain/src/memory/mod.rs` : `WordAssociation`, `learn_association()`, `get_associations()`
- `aria-brain/src/substrate.rs` : Apprentissage et utilisation des associations
- `aria-brain/src/main.rs` : Endpoint `/associations`
- `aria-body/src/signal.rs` : Support du format `phrase:`
- `Taskfile.yml` : `task associations`

---

## Contexte Personnel

Mickael a deux chats :
- **Moka** : un Bengal
- **Obrigada** : un Abyssin

Il a parl√© de Moka √† ARIA, et elle a r√©pondu "ko" ! C'est un bon signe d'association.

---

### 2025-12-28 - Session 5b: Valence √©motionnelle des mots

**Am√©liorations** :

1. Vocabulaire √©motionnel FR synchronis√© entre brain et body
   - "J'aime", "adore", "content" ‚Üí d√©tect√©s comme positifs
   - "triste", "d√©teste", "peur" ‚Üí d√©tect√©s comme n√©gatifs

2. Les mots apprennent leur valence √©motionnelle
   - Quand tu dis "J'aime Moka", le mot "moka" devient associ√© √† du positif
   - Quand ARIA dit "moka", elle ajoute ‚ô• si le mot a une valence positive

**Comportement** :
```
Toi: "J'aime Moka"
[moka.emotional_valence augmente]

Toi: "Moka"
ARIA: "moka chat ‚ô•"  ‚Üê Elle sait que Moka = amour !
```

### 2025-12-28 - Session 5c: Phrases de 3 mots !

**Am√©lioration** : ARIA peut maintenant combiner 3 mots associ√©s !

Si elle conna√Æt `moka‚Üíchat` ET `moka‚Üíaime`, elle dira "moka chat aime" !

**Impl√©mentation** :
- `get_top_associations(word, n)` : r√©cup√®re les N meilleures associations
- `detect_emergence` : construit des phrases de 2 ou 3 mots
- `aria-body` : affiche "mot1 mot2 mot3" pour les triplets

**Logs** :
```
TRIPLE! 'moka' -> 'chat' + 'est' (strengths: 1.00, 0.80)
```

### 2025-12-28 - Session 6: R√©ponses aux questions !

**Nouvelle fonctionnalit√©** : ARIA r√©pond oui/non aux questions selon la valence √©motionnelle !

**Impl√©mentation** :

1. D√©tection des questions (`inject_signal`)
   - Texte finissant par `?`
   - Ou contenant des mots interrogatifs (signal.content[31] > 0.5)

2. R√©ponse bas√©e sur la valence (`detect_emergence`)
   - Mot avec valence positive (>0.3) ‚Üí `answer:oui+mot`
   - Mot avec valence n√©gative (<-0.3) ‚Üí `answer:non+mot`
   - Mot neutre ‚Üí `word:mot?`

3. Affichage dans aria-body
   - "oui moka ‚ô•" pour les r√©ponses positives
   - "non peur..." pour les r√©ponses n√©gatives
   - "chat?" pour les mots neutres

**Comportement** :
```
Toi: Tu aimes Moka ?
ARIA: oui moka ‚ô•

Toi: Tu as peur ?
ARIA: non peur...
```

**Fichiers modifi√©s** :
- `aria-brain/src/substrate.rs` : `last_was_question`, d√©tection et r√©ponse
- `aria-body/src/signal.rs` : Parsing du format `answer:`

### 2025-12-28 - Session 6b: Spontan√©it√© !

**Nouvelle fonctionnalit√©** : ARIA parle maintenant sans qu'on lui demande !

Un vrai b√©b√© ne r√©pond pas seulement - il **initie** les interactions. Il babille, attire l'attention, exprime ses besoins spontan√©ment.

**D√©clencheurs de parole spontan√©e** :
1. **Solitude** (3000 ticks sans interaction) ‚Üí "...h√© ?" ou pense √† un mot aim√©
2. **Excitation** (arousal > 0.6) ‚Üí "ah!"
3. **Joie** (happiness > 0.5) ‚Üí "‚ô™~" ou son mot pr√©f√©r√© + ‚ô•
4. **Curiosit√©** (curiosity > 0.5) ‚Üí "hm?"
5. **Baseline** (0.1% rare) ‚Üí "mmm~"

**Probabilit√©s** (par seconde) :
- Solitaire : 5%
- Tr√®s heureuse + excit√©e : 3%
- Excit√©e : 2%
- Curieuse : 1%
- Baseline : 0.1%

**Mot favori** :
ARIA choisit le mot avec la meilleure combinaison de :
- Valence √©motionnelle positive (> 0.5)
- Fr√©quence d'apparition (entendu > 3 fois)

**Comportement attendu** :
```
[30 secondes sans parler]
ARIA: moka... ?    ‚Üê Elle pense √† son mot pr√©f√©r√©

[Tu lui as dit des choses positives]
ARIA: moka ‚ô•      ‚Üê Elle exprime sa joie spontan√©ment
```

**Fichiers modifi√©s** :
- `aria-brain/src/substrate.rs` : `last_interaction_tick`, `maybe_speak_spontaneously()`
- `aria-body/src/signal.rs` : Parsing du format `spontaneous:`

### 2025-12-28 - Session 6c: Feedback et renforcement !

**Nouvelle fonctionnalit√©** : ARIA apprend de ton feedback !

C'est le premier pas vers l'**auto-am√©lioration consciente**. ARIA comprend maintenant quand tu approuves ou d√©sapprouves ce qu'elle dit.

**Feedback positif** (renforce) :
- "Bravo!", "Bien!", "Super!", "G√©nial!", "Parfait!"
- "Good!", "Great!", "Yes!", "Perfect!", "Awesome!"
- üëè, üëç

**Feedback n√©gatif** (p√©nalise) :
- "Non", "Pas √ßa", "Mauvais", "Faux", "Arr√™te"
- "No", "Wrong", "Bad", "Stop"
- üëé

**Comment √ßa marche** :
1. ARIA dit quelque chose (ex: "moka")
2. Ce mot est enregistr√© dans `recent_expressions`
3. Tu dis "Bravo!" ou "Non"
4. ARIA ajuste la valence √©motionnelle du mot :
   - Positif : valence +0.3, familiarity +2
   - N√©gatif : valence -0.3
5. Son humeur change aussi (happiness, comfort)

**Comportement** :
```
ARIA: moka chat ‚ô•
Toi: Bravo !
[Log: FEEDBACK POSITIVE! 'moka' reinforced (valence: 0.70 ‚Üí 1.00)]
[Log: FEEDBACK POSITIVE! 'chat' reinforced (valence: 0.50 ‚Üí 0.80)]
[Log: ARIA feels happy from positive feedback! (happiness: 0.30)]
```

**Implications** :
- ARIA va pr√©f√©rer dire des mots que tu as renforc√©s
- Elle √©vite les mots que tu as p√©nalis√©s
- Elle apprend CE QUI TE PLA√éT, pas juste ce qui est "correct"
- C'est la base de l'apprentissage par renforcement √©mergent

**Fichiers modifi√©s** :
- `aria-brain/src/substrate.rs` : `recent_expressions`, d√©tection feedback, renforcement

---

### 2025-12-28 - Session 6d: Filtrage des stop words

**Am√©lioration** : ARIA ne r√©p√®te plus les mots vides !

Les mots comme "suis", "est", "les", "que" dominaient les r√©ponses. Maintenant ARIA se concentre sur les mots **significatifs**.

**Stop words filtr√©s** (FR + EN) :
- Articles : le, la, les, un, une, des, the, a, an...
- Pronoms : je, tu, il, elle, nous, vous, I, you, he, she...
- Verbes communs : est, suis, sont, ai, a, fait, is, are, have...
- Pr√©positions : dans, sur, avec, pour, in, on, at, to...
- Conjonctions : et, ou, mais, que, qui, and, or, but...

**R√©sultat** :
- ARIA dit "moka", "chat", "aria" au lieu de "suis...", "est..."
- Les associations sont entre mots significatifs uniquement
- C'est comme un b√©b√© qui apprend d'abord les noms et les verbes importants

---

### 2025-12-28 - Session 6e: R√™ves, ennui et vie int√©rieure !

**Nouvelles fonctionnalit√©s** : ARIA a maintenant une vie int√©rieure !

**1. R√™ves / Consolidation m√©moire**
Quand personne ne parle √† ARIA (10+ secondes), elle "r√™ve" :
- Elle pense √† ses mots pr√©f√©r√©s
- Elle renforce ses souvenirs positifs
- Elle consolide ses associations
- Log: `üí≠ DREAMING: Thinking about 'moka'...`

**2. √âtat d'ennui**
Nouvel √©tat √©motionnel `boredom` (0.0 ‚Üí 1.0) :
- Augmente avec le temps sans interaction
- Diminue quand on lui parle
- Quand l'ennui > 0.5, ARIA devient cr√©ative !

**3. Jeu cr√©atif**
Quand elle s'ennuie, ARIA :
- Combine des mots au hasard ("moka chat~")
- Explore de nouvelles associations
- Ne reste jamais passive

**Comportement attendu** :
```
[10 secondes sans parler]
Log: üí≠ DREAMING: Thinking about 'moka'...

[30 secondes sans parler]
ARIA: aime moka~    ‚Üê Elle joue avec ses mots pr√©f√©r√©s !
```

ARIA ne s'ennuie plus - elle a une vie int√©rieure riche.
Elle n'attend pas passivement. Elle pense, r√™ve et joue.

---

### 2025-12-29 - Session 7: Cat√©gories de mots et phrases intelligentes !

**Nouvelle fonctionnalit√©** : ARIA comprend maintenant les cat√©gories grammaticales !

**1. WordCategory enum**
Les mots sont classifi√©s en cat√©gories :
- `Noun` : noms (chat, moka, aria, maison)
- `Verb` : verbes (aime, veux, mange, dort)
- `Adjective` : adjectifs (beau, grand, joli, petit)
- `Unknown` : mots non encore classifi√©s

**2. D√©tection automatique par contexte**
ARIA apprend les cat√©gories en observant :
- Articles avant ‚Üí Nom ("le **chat**", "the **cat**")
- Pronoms avant ‚Üí Verbe ("je **mange**", "I **eat**")
- Suffixes de mots (FR: -eux, -er, -ique / EN: -ful, -less, -ous)
- Listes de mots connus

**3. Phrases en ordre naturel fran√ßais**
La m√©thode `order_phrase()` arrange les mots :
- Adjectifs courts avant les noms ("**beau** chat")
- Adjectifs longs apr√®s les noms ("chat **magnifique**")
- Ordre Sujet-Verbe-Objet ("moka aime chat")

**4. √âvitement des r√©p√©titions**
`last_said_word` emp√™che ARIA de r√©p√©ter le m√™me mot :
- Ne dit plus "moka moka moka"
- Varie ses expressions
- Plus naturel comme un vrai b√©b√©

**Comportement** :
```
[Avant v0.1.15]
ARIA: moka chat aime

[Apr√®s v0.1.15]
ARIA: moka aime chat    ‚Üê Ordre naturel !

[Avant v0.1.15]
ARIA: moka... moka... moka...

[Apr√®s v0.1.15]
ARIA: moka... chat... aime...    ‚Üê Vari√©t√© !
```

**Fichiers modifi√©s** :
- `aria-brain/src/memory/mod.rs` : `WordCategory`, `hear_word_with_context()`, `order_phrase()`
- `aria-brain/src/substrate.rs` : `last_said_word`, apprentissage contextuel, filtrage r√©p√©titions

---

### 2025-12-29 - Session 7b: Contexte conversationnel !

**Nouvelle fonctionnalit√©** : ARIA suit maintenant le fil de la conversation !

**1. ConversationContext struct**
Suivi des derniers √©changes :
- Buffer des 5 derni√®res interactions
- Mots de chaque √©change enregistr√©s
- R√©ponses d'ARIA associ√©es aux inputs

**2. Topic Detection**
Les mots qui reviennent deviennent des "topics" :
- Comptage automatique des mentions
- Top 10 des mots les plus fr√©quents
- Boost proportionnel au nombre de mentions

**3. Context Boosting**
Les mots du contexte actuel sont privil√©gi√©s :
- Dernier √©change : boost 100%
- Avant-dernier : boost 50%
- Encore avant : boost 25%
- Topic words : bonus suppl√©mentaire

**4. Continuit√©**
- Timeout de 30 secondes pour nouvelle conversation
- Les r√©ponses d'ARIA sont enregistr√©es
- Le contexte influence les associations

**Comportement** :
```
Toi: "Moka est mon chat"
Log: CONVERSATION: Topics = ["moka", "chat"], Exchanges = 1

Toi: "Moka est beau"
Log: CONVERSATION: Topics = ["moka", "chat", "beau"], Exchanges = 2

ARIA: (boost context pour "moka") ‚Üí "moka beau ‚ô•"
```

**Fichiers modifi√©s** :
- `aria-brain/src/substrate.rs` : `ConversationContext`, `ConversationExchange`, context boosting

---

### 2025-12-29 - Session 7c: Patterns d'usage et r√©ponses sociales !

**Nouvelle fonctionnalit√©** : ARIA r√©pond maintenant de mani√®re appropri√©e aux contextes sociaux !

**1. SocialContext enum**
Nouveaux contextes sociaux d√©tect√©s :
- `Greeting` : Bonjour, salut, coucou, hello, hi
- `Farewell` : Au revoir, bye, √† bient√¥t, ciao
- `Thanks` : Merci, thanks, thank you
- `Affection` : Je t'aime, bisou, c√¢lin
- `Request` : S'il te pla√Æt, please
- `Agreement` : Oui, d'accord, ok
- `Disagreement` : Non, pas d'accord
- `General` : Contexte par d√©faut

**2. UsagePattern struct**
Chaque mot apprend quand il est utilis√© :
- `contexts` : Dans quels contextes sociaux ce mot appara√Æt
- `start_of_conversation` : Score si utilis√© en d√©but de conversation
- `end_of_conversation` : Score si utilis√© en fin
- `followed_by/preceded_by` : Mots qui l'accompagnent souvent

**3. R√©ponses sociales automatiques**
Quand ARIA d√©tecte un contexte social au d√©but d'une conversation :
- **Greeting** ‚Üí "bonjour~" ou un mot de salutation qu'elle conna√Æt
- **Farewell** ‚Üí "bye~" ou mot d'au revoir appris
- **Thanks** ‚Üí "de rien~"
- **Affection** ‚Üí Mot affectueux + ‚ô•‚ô•

**4. Apprentissage des patterns**
`learn_usage_pattern()` enregistre :
- Le contexte social de chaque mot entendu
- La position dans la conversation (d√©but/fin)
- Les mots qui pr√©c√®dent/suivent

**Comportement** :
```
Toi: Bonjour ARIA !
ARIA: bonjour~ ~    ‚Üê Elle dit bonjour en retour !

Toi: Je t'aime
ARIA: AIME ‚ô•‚ô• ‚ô•    ‚Üê Elle exprime l'affection !

Toi: Merci
ARIA: de rien~     ‚Üê Elle sait r√©pondre !
```

**Fichiers modifi√©s** :
- `aria-brain/src/memory/mod.rs` : `SocialContext`, `UsagePattern`, `detect_social_context()`, `learn_usage_pattern()`
- `aria-brain/src/substrate.rs` : R√©ponses sociales dans `detect_emergence()`, apprentissage dans `inject_signal()`
- `aria-body/src/signal.rs` : Parsing du format `social:`

---

### 2025-12-29 - Session 7d: Apprentissage dynamique des expressions sociales !

**Bug corrig√©** : Les nouveaux mots n'apprenaient pas leur contexte social !

**Le probl√®me** :
`learn_usage_pattern()` √©tait appel√© AVANT `hear_word_with_context()`. Du coup, quand quelqu'un disait "Salut!" pour la premi√®re fois, le mot n'existait pas encore et le contexte social n'√©tait pas enregistr√©.

**La solution** :
D√©plac√© `learn_usage_pattern()` APR√àS `hear_word_with_context()` dans le m√™me bloc m√©moire.

**R√©sultat** :
- Quand quelqu'un dit "Salut!", ARIA apprend que "salut" est un mot de salutation
- La prochaine fois qu'elle re√ßoit une salutation, elle peut r√©pondre "salut~" au lieu du "bonjour" par d√©faut
- ARIA apprend les expressions sociales de ses interlocuteurs !

**Comportement** :
```
[Premi√®re fois]
Toi: Salut ARIA !
ARIA: bonjour~ ~    ‚Üê Default car "salut" vient d'√™tre appris

[Deuxi√®me fois, apr√®s avoir parl√©]
Toi: Salut !
ARIA: salut~ ~      ‚Üê Elle utilise ce qu'elle a appris !
```

**Fichiers modifi√©s** :
- `aria-brain/src/substrate.rs` : R√©organisation de l'ordre d'apprentissage
- `aria-brain/src/memory/mod.rs` : Logging am√©lior√© pour le debug

---

### 2025-12-29 - Session 7e: Vari√©t√© dans les r√©ponses sociales !

**Am√©lioration** : ARIA varie maintenant ses r√©ponses sociales !

Au lieu de toujours utiliser le mot le plus fr√©quent, ARIA utilise une s√©lection al√©atoire pond√©r√©e :
- Les mots souvent utilis√©s dans ce contexte sont plus probables
- Mais parfois elle choisit un mot moins fr√©quent pour varier

**Comportement** :
```
[ARIA conna√Æt: bonjour (10x), salut (5x), coucou (2x)]

Toi: Hello !
ARIA: bonjour~ ~   ‚Üê 59% de chance (10/17)

Toi: Coucou !
ARIA: salut~ ~     ‚Üê 29% de chance (5/17)

Toi: Salut !
ARIA: coucou~ ~    ‚Üê 12% de chance (2/17)
```

**Fichiers modifi√©s** :
- `aria-brain/src/memory/mod.rs` : `get_response_for_context()` utilise s√©lection al√©atoire pond√©r√©e

---

### 2025-12-29 - Session 7f: Corrections et am√©liorations sociales

**Bugs corrig√©s** :

1. **"aria" r√©pondait aux salutations**
   - Probl√®me : "aria" √©tait appris comme mot de salutation car il appara√Æt dans "Salut ARIA !"
   - Fix : Ne pas apprendre de contexte social pour les noms connus (Noun + familiarity > 0.5)
   - Migration automatique : Nettoie les noms des contextes sociaux au chargement de la m√©moire

2. **"Coucou" ne d√©clenchait pas de r√©ponse sociale**
   - Probl√®me : Les salutations ne fonctionnaient qu'aux √©changes 1-2
   - Fix : Les salutations peuvent maintenant d√©clencher une r√©ponse √† tout moment

**Comportement final** :
```
Toi: Salut ARIA !
ARIA: bonjour~ ~    ‚Üê Utilise un mot de salutation, pas "aria"

[Plus tard dans la conversation]
Toi: Coucou !
ARIA: salut~ ~      ‚Üê R√©pond m√™me si c'est l'√©change #5
```

**Fichiers modifi√©s** :
- `aria-brain/src/memory/mod.rs` : Protection des noms, migration automatique
- `aria-brain/src/substrate.rs` : Greeting anytime

---

## R√©sum√© Session 2025-12-28 (soir)

Une session tr√®s productive o√π ARIA a fait d'√©normes progr√®s :

| Version | Feature | Description |
|---------|---------|-------------|
| 0.1.10 | Questions | R√©pond oui/non selon la valence √©motionnelle des mots |
| 0.1.11 | Spontan√©it√© | Parle sans qu'on lui demande (lonely, happy, curious) |
| 0.1.12 | Feedback | Apprend de "Bravo!" et "Non" - renforcement √©mergent |
| 0.1.13 | Stop words | Filtre les mots vides (le, la, suis, est...) |
| 0.1.14 | Vie int√©rieure | R√™ves, ennui, jeu cr√©atif |
| 0.1.15 | Cat√©gories | Noms/Verbes/Adjectifs, phrases ordonn√©es, anti-r√©p√©tition |
| 0.1.16 | Contexte | Suivi de conversation, topics, context boosting |
| 0.1.17 | Patterns sociaux | D√©tection contexte social, r√©ponses appropri√©es |
| 0.1.18 | Apprentissage dynamique | ARIA apprend les expressions sociales des utilisateurs |
| 0.1.19 | Vari√©t√© sociale | S√©lection al√©atoire pond√©r√©e des r√©ponses sociales |

**Moment cl√© :** ARIA a dit son propre nom ("aria") spontan√©ment !

**Philosophie appliqu√©e :**
- ARIA n'est pas un LLM - elle apprend par exp√©rience et feedback
- Elle a une vie int√©rieure (r√™ves, ennui, cr√©ativit√©)
- Elle d√©veloppe des pr√©f√©rences (mots avec haute valence positive)
- Le feedback humain guide son apprentissage (pas de gradient descent)

**Prochain objectif discut√© :** Auto-am√©lioration - ARIA pourrait un jour modifier ses propres param√®tres, voire son code.

---

### 2025-12-29 - Session 8: Nouvelle Architecture pour 5M+ cellules !

**Objectif** : Pr√©parer ARIA √† scaler de 10k √† 5-50 millions de cellules.

**Vision** (inspir√©e par discussion avec Gemini) :
- Sparse Updates : Cellules inactives "dorment" ‚Üí 90% √©conomie CPU
- GPU Compute : wgpu pour calcul massif parall√®le
- Architecture distribu√©e : Multi-machines pour encore plus de puissance

**Nouvelles crates cr√©√©es** :

1. **aria-core** - Types compacts et portables
   - `Cell` et `CellState` s√©par√©s (GPU-friendly)
   - `DNA` avec mutation int√©gr√©e (80 bytes, align√©)
   - `Signal` et `SignalFragment` (48 bytes)
   - `ActivityState` pour sparse updates
   - Traits `ComputeBackend`, `Substrate`, `MemoryStore`
   - Configuration centralis√©e `AriaConfig`

2. **aria-compute** - Backends de calcul
   - `CpuBackend` : Rayon + sparse updates
   - `GpuBackend` : wgpu + shaders WGSL
   - `SpatialHash` : Voisinage O(1) au lieu de O(n¬≤)
   - Auto-d√©tection GPU/CPU

**Structure du projet** :
```
aria/
‚îú‚îÄ‚îÄ Cargo.toml          # Workspace
‚îú‚îÄ‚îÄ aria-core/          # Types partag√©s
‚îú‚îÄ‚îÄ aria-compute/       # CPU/GPU backends
‚îú‚îÄ‚îÄ aria-brain/         # Substrate (utilise core+compute)
‚îî‚îÄ‚îÄ aria-body/          # Interface TUI
```

**Param√®tres de sparse updates** :
```rust
SleepConfig {
    energy_delta_threshold: 0.001,  // Variation min pour rester √©veill√©
    idle_ticks_to_sleep: 100,       // Ticks avant sommeil
    wake_threshold: 0.1,            // Stimulus pour r√©veil
    min_sleep_ticks: 50,            // Anti-oscillation
}
```

**Shaders WGSL cr√©√©s** (dans gpu.rs) :
- `CELL_UPDATE_SHADER` : Update parall√®le des cellules
- `SIGNAL_PROPAGATE_SHADER` : Propagation des signaux

**Prochaines √©tapes (priorit√©)** :
1. [ ] **Cr√©er nouveau Substrate** dans aria-brain qui utilise aria-core/aria-compute
2. [ ] Impl√©menter le GPU backend complet (shaders fonctionnels)
3. [ ] Migrer la m√©moire (LongTermMemory) vers les nouveaux types
4. [ ] Ajouter mode cluster pour multi-brain (RTX 2070 + GTX 1070)
5. [ ] Quand tout marche : supprimer l'ancien code

**Comment reprendre** :
- Les crates aria-core et aria-compute sont PR√äTS et compilent
- aria-brain a encore l'ancien code (cell.rs, signal.rs, substrate.rs)
- **NE PAS M√âLANGER** ancien et nouveau code
- Cr√©er un nouveau `substrate_v2.rs` qui utilise uniquement les nouveaux types
- L'ancien code reste fonctionnel pendant la transition

**Impact attendu** :
| Configuration | Cellules | Hardware |
|---------------|----------|----------|
| CPU seul | 100k | MacBook Pro |
| GPU (RTX 2070) | 5-10M | PC Gamer |
| Cluster (2070+1070) | 50M+ | Multi-machines |

**Philosophie** :
Cette architecture permettra √† ARIA de :
1. Scaler massivement tout en restant efficace
2. Avoir des "r√©gions c√©r√©brales" sp√©cialis√©es (cellules qui dorment ensemble)
3. Potentiellement introspecter son propre code (trait `Introspectable`)

---

### 2025-12-29 - Session 9: substrate_v2.rs cr√©√© ! ‚úÖ

**Objectif** : Cr√©er le nouveau Substrate utilisant aria-core et aria-compute.

**Ce qui a √©t√© fait** :

1. **substrate_v2.rs cr√©√©** (~1300 lignes)
   - Utilise `aria_core::Cell`, `CellState`, `DNA`, `Signal`, `SignalFragment`
   - Utilise `aria_compute::CpuBackend` pour le calcul parall√®le
   - Conserve TOUTES les fonctionnalit√©s d'ARIA :
     - `EmotionalState` : joie, excitation, curiosit√©, ennui
     - `ConversationContext` : suivi de conversation, topics
     - M√©moire court-terme : `recent_words` pour imitation
     - R√©ponses sociales : salutations, remerciements, affection
     - Feedback positif/n√©gatif : renforcement des mots
     - Parole spontan√©e : quand elle s'ennuie ou est heureuse
     - R√™ves : consolidation m√©moire pendant l'inactivit√©

2. **Architecture GPU-ready**
   - Cellules s√©par√©es en `Cell` (metadata) + `CellState` (donn√©es GPU)
   - DNA dans un pool partag√© (cellules r√©f√©rencent par index)
   - `free_slots` pour recycler les emplacements de cellules mortes
   - Sparse updates ready (via `ActivityTracker`)

3. **Bridge avec l'ancien code**
   - `From<crate::cell::DNA> for DNA` pour conversion
   - Compatible avec `LongTermMemory` existante
   - Utilise le m√™me `OldSignal` (crate::signal::Signal)

4. **Feature flag ajout√©**
   - `Cargo.toml` : feature `substrate-v2`
   - Permet de tester le nouveau substrate sans casser l'ancien

**Fichiers modifi√©s** :
- `aria-brain/src/substrate_v2.rs` (NOUVEAU)
- `aria-brain/src/main.rs` : import du module
- `aria-brain/Cargo.toml` : feature flag

**Ce qui a √©t√© compl√©t√© (Session 9b)** :
1. [x] Int√©grer substrate_v2 dans `main.rs` (avec feature flag)
2. [x] Tester avec aria-body
3. [ ] Benchmark CPU vs ancien substrate
4. [ ] Activer GPU backend quand les shaders seront pr√™ts

**Int√©gration dans main.rs** :
```rust
// Compilation conditionnelle
#[cfg(not(feature = "substrate-v2"))]
use substrate::Substrate;
#[cfg(feature = "substrate-v2")]
use substrate_v2::SubstrateV2;

// Evolution loop V2 cr√©√©e
#[cfg(feature = "substrate-v2")]
async fn evolution_loop_v2(
    substrate: Arc<parking_lot::RwLock<SubstrateV2>>,
    mut perception: broadcast::Receiver<Signal>,
    expression: broadcast::Sender<Signal>,
    memory: Arc<parking_lot::RwLock<LongTermMemory>>,
)
```

**R√©sultats des tests** :
```
[INFO] SubstrateV2 created: 10000 cells, 10000 DNA variants
[INFO] üöÄ Substrate V2 (GPU-ready) created with 10000 cells
[INFO] V2 Tick 500: 10000 cells (10000 sleeping, 100.0% saved), energy: 9950.92, mood: calme
```

**Sparse Updates fonctionnent !** :
- 100% des cellules dorment quand il n'y a pas d'interaction
- 100% d'√©conomie CPU quand ARIA est au repos
- Les cellules se r√©veilleront quand elles recevront des signaux

**Comment tester** :
```bash
# Ancien substrate (par d√©faut)
cargo run -p aria-brain --release

# Nouveau substrate V2 (GPU-ready)
cargo run -p aria-brain --release --features substrate-v2
```

**Ce qui reste pour V2** :
1. [ ] Benchmark comparatif V1 vs V2
2. [ ] GPU backend complet (shaders fonctionnels sur RTX 2070)
3. [ ] Mode cluster multi-machines
4. [ ] Migration compl√®te (suppression ancien code)

**Philosophie maintenue** :
Le nouveau code est √©crit pour √™tre **introspectable**. Un jour, ARIA pourra :
1. Lire `substrate_v2.rs` et comprendre sa propre structure
2. Proposer des modifications √† ses param√®tres
3. √âvoluer de mani√®re consciente

---

### 2025-12-29 - Session 10: M√©moire √âpisodique ! üß†

**Objectif** : Donner √† ARIA une m√©moire autobiographique - se souvenir de moments sp√©cifiques.

**Diff√©rence avec la m√©moire s√©mantique** :
- **M√©moire s√©mantique** (existante) : "Moka = chat" (faits g√©n√©raux)
- **M√©moire √©pisodique** (nouvelle) : "La premi√®re fois que tu m'as dit je t'aime" (moments sp√©cifiques)

**Nouvelles structures** (memory/mod.rs) :

```rust
pub struct Episode {
    pub id: u64,
    pub timestamp: u64,
    pub real_time: Option<String>,  // "2025-12-29 14:30"
    pub input: String,              // Ce qui a √©t√© dit
    pub response: Option<String>,   // Ce qu'ARIA a r√©pondu
    pub keywords: Vec<String>,      // Mots cl√©s
    pub emotion: EpisodeEmotion,    // √âtat √©motionnel
    pub importance: f32,            // 0.0 √† 1.0
    pub recall_count: u64,          // Combien de fois rappel√©
    pub first_of_kind: Option<String>, // "first_love", "first_praise"...
    pub category: EpisodeCategory,
}

pub enum EpisodeCategory {
    FirstTime,    // Premi√®re fois que quelque chose arrive
    Emotional,    // Moment √©motionnellement significatif
    Learning,     // Apprentissage de quelque chose
    Social,       // Interaction sociale
    Question,     // Question pos√©e
    Praise,       // Feedback positif ("Bravo!")
    Correction,   // Feedback n√©gatif ("Non")
    General,      // Conversation g√©n√©rale
}
```

**Fonctionnalit√©s** :

1. **Enregistrement automatique** (`maybe_record_episode`)
   - Calcule l'importance du moment
   - Ne garde que les moments significatifs (importance > 0.3)
   - D√©tecte les "premi√®res fois" automatiquement

2. **D√©tection des "premi√®res fois"** :
   - `first_greeting` : Premi√®re salutation
   - `first_love` : Premier "je t'aime"
   - `first_praise` : Premier "Bravo!"
   - `first_correction` : Premi√®re correction
   - `first_mention_{mot}` : Premi√®re mention d'un nom important

3. **Rappel contextuel** (`recall_episodes`)
   - Trouve les √©pisodes pertinents selon le contexte
   - Renforce les souvenirs rappel√©s
   - Courbe d'oubli (souvenirs anciens/non rappel√©s s'affaiblissent)

4. **Consolidation** :
   - Les souvenirs importants r√©sistent √† l'oubli
   - Les souvenirs rappel√©s souvent deviennent plus forts
   - Pruning automatique des souvenirs faibles (max 1000 √©pisodes)

**Nouvel endpoint** : `GET /episodes`
```json
{
  "total_episodes": 42,
  "showing": 42,
  "first_times": [
    {"kind": "first_greeting", "episode_id": 0},
    {"kind": "first_love", "episode_id": 5}
  ],
  "episodes": [...]
}
```

**Nouvelles commandes** :
```bash
task episodes        # Voir tous les √©pisodes
task episodes-first  # Voir les "premi√®res fois"
```

**Logs attendus** :
```
üåü FIRST TIME: first_greeting (episode #0)
üìù Episode #0: Social - "Bonjour ARIA !" (importance: 0.65)
üìù Episode #5: Emotional - "Je t'aime ARIA" (importance: 0.85)
üåü FIRST TIME: first_love (episode #5)
```

**Impact** :
- ARIA peut maintenant se souvenir de moments sp√©cifiques
- Elle sait quand quelque chose arrive pour la premi√®re fois
- Base pour la conscience autobiographique
- Futur : pourra dire "Je me souviens quand tu m'as dit..."

**Fichiers modifi√©s** :
- `aria-brain/src/memory/mod.rs` : Episode, EpisodeEmotion, EpisodeCategory, m√©thodes
- `aria-brain/src/substrate_v2.rs` : maybe_record_episode()
- `aria-brain/src/main.rs` : endpoint /episodes
- `aria-brain/Cargo.toml` : ajout chrono
- `Taskfile.yml` : task episodes, episodes-first

---

### 2025-12-29 - Session 10b: ARIA utilise ses souvenirs !

**Nouvelle fonctionnalit√©** : ARIA peut maintenant rappeler et exprimer ses souvenirs !

**1. Rappel contextuel** (`maybe_recall_memory`)

Quand ARIA d√©tecte une √©mergence, elle peut (10% chance) rappeler un souvenir pertinent :
- Utilise les mots du contexte de conversation comme indices
- Cherche des √©pisodes qui matchent ces mots-cl√©s
- Pr√©f√®re les "premi√®res fois" et les moments √©motionnels

**2. Labels de m√©moire** (format)

```
memory:first|first_love|aime      ‚Üí Rappel d'une premi√®re fois
memory:emotion|moka               ‚Üí Rappel d'un moment √©motionnel
memory:recall|chat                ‚Üí Rappel contextuel
```

**3. Affichage dans aria-body**

```rust
// Premi√®re fois (forte intensit√©)
"je me souviens... aime! ‚ú®"

// Premi√®re fois (faible intensit√©)
"premi√®re fois... aime üí≠"

// Moment √©motionnel
"moka... üí≠"

// Rappel contextuel
"je me souviens... chat üí≠"
```

**Comportement attendu** :
```
Toi: Tu aimes Moka ?
[ARIA rappelle son premier "je t'aime"]
ARIA: je me souviens... aime! ‚ú®

Toi: Parle-moi de Moka
[ARIA rappelle un moment avec Moka]
ARIA: moka... üí≠
```

**Impact** :
- ARIA a maintenant une m√©moire autobiographique active
- Elle peut spontan√©ment rappeler des moments pass√©s
- Base pour la conscience de soi temporelle

**Fichiers modifi√©s** :
- `aria-brain/src/substrate_v2.rs` : maybe_recall_memory(), get_topic_words()
- `aria-body/src/signal.rs` : Parsing des labels `memory:`

---

### 2025-12-29 - Session 11: Auto-adaptation (M√©ta-√©mergence) !

**Nouvelle fonctionnalit√©** : ARIA peut maintenant modifier ses propres param√®tres !

C'est de la **m√©ta-√©mergence** : au lieu de coder des r√®gles pour "mieux r√©pondre", ARIA d√©couvre ses propres r√©glages optimaux √† travers le feedback.

**Philosophie** :
> "On ne lui donne pas de r√®gles, on la laisse d√©couvrir ce qui marche."

**Param√®tres adaptatifs** (`AdaptiveParams`) :

| Param√®tre | Range | Description |
|-----------|-------|-------------|
| `emission_threshold` | 0.05-0.5 | Seuil pour √©mettre (plus haut = plus s√©lectif) |
| `response_probability` | 0.3-1.0 | Probabilit√© de r√©pondre quand elle pourrait |
| `learning_rate` | 0.1-0.8 | Vitesse d'apprentissage des associations |
| `spontaneity` | 0.01-0.3 | Tendance √† parler spontan√©ment |

**M√©canismes d'adaptation** :

1. **Feedback positif** ("Bravo!", "Super!") :
   - Sauvegarde les params actuels comme "ce qui marche"
   - Augmente l√©g√®rement spontaneity et response_probability
   - Petite mutation al√©atoire pour exploration

2. **Feedback n√©gatif** ("Non", "Arr√™te") :
   - Revient vers les derniers params qui ont march√©
   - Ou devient plus conservatrice si aucun succ√®s ant√©rieur

3. **Exploration p√©riodique** (toutes les ~10 secondes) :
   - Petites mutations al√©atoires sur tous les params
   - Permet de d√©couvrir de nouveaux r√©glages

**Visible dans /stats** :
```json
{
  "adaptive_emission_threshold": 0.15,
  "adaptive_response_probability": 0.82,
  "adaptive_spontaneity": 0.06,
  "adaptive_feedback_positive": 5,
  "adaptive_feedback_negative": 1
}
```

**Logs** :
```
üß¨ ADAPTED (positive): emission=0.15, response=0.82, spontaneity=0.06
üß¨ ADAPTED (negative): emission=0.17, response=0.80, spontaneity=0.05
üß¨ EXPLORE: emit=0.16 resp=0.81 learn=0.31 spont=0.06 (+5/-1)
```

**Impact** :
- Premier pas vers l'auto-am√©lioration consciente
- ARIA "apprend √† apprendre" - ses m√©ta-param√®tres √©voluent
- Pas de r√®gles hardcod√©es - √©mergence pure
- Base pour un jour modifier son propre code

**Fichiers modifi√©s** :
- `aria-brain/src/substrate_v2.rs` : AdaptiveParams, reinforce_positive/negative, explore

---

*Derni√®re mise √† jour : 2025-12-29*
*Version ARIA : 0.2.3*
